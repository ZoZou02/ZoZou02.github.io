<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>css-card</title>
</head>

<body>
    <div class="cardlist">
        <div class="main">
            <div class="element">
                <div class="shine-card" id="g-img"></div>
            </div>
        </div>
        <div class="main">
            <div class="element">
                <div class="shine-card" id="g-img"></div>
            </div>
        </div>
        <div class="main">
            <div class="element">
                <div class="shine-card" id="g-img"></div>
            </div>
        </div>
    </div>


</body>
<script>
    const multiple = 20;
    function transformElement(container, x, y) {
        const element = container.querySelector(".element");
        const imgElement = container.querySelector(".shine-card");

        let box = element.getBoundingClientRect();
        let calcX = (y - box.y - (box.height / 2)) / multiple;
        let calcY = -(x - box.x - (box.width / 2)) / multiple;
        const percentage = parseInt((x - box.x) / box.width * 1000) / 10;

        element.style.transform = "rotateX(" + calcX + "deg) "
            + "rotateY(" + calcY + "deg)"+"translateZ(0)";
        imgElement.style.setProperty('--per', `${percentage}%`);
    }

    document.querySelectorAll(".main").forEach(container => {
        container.addEventListener('mousemove', (e) => {
            window.requestAnimationFrame(() => transformElement(container, e.clientX, e.clientY));
        });

        container.addEventListener('mouseleave', () => {
            const element = container.querySelector(".element");
            const imgElement = container.querySelector(".shine-card");

            window.requestAnimationFrame(() => {
                element.style.transform = "rotateX(0) rotateY(0)";
                element.style.transition = "all 0.3s linear 0s";
                imgElement.style.setProperty('--per', `30%`);
            });
        });
    });

    //--------------------------element----------------------
    // const elements = document.querySelectorAll(".element");
    // const element = document.getElementById("element");

    // const imgElements = document.getElementsByClassName("shine-card")
    // function transformElement(x, y) {
    //     let box = element.getBoundingClientRect();
    //     let calcX = (y - box.y - (box.height / 2)) / multiple;
    //     let calcY = -(x - box.x - (box.width / 2)) / multiple;
    //     const percentage = parseInt((x - box.x) / box.width * 1000) / 10;
    //     element.style.transform = "rotateX(" + calcX + "deg) "
    //         + "rotateY(" + calcY + "deg)";
    //     imgElements[0].style.setProperty('--per', `${percentage}%`);

    // }

    // mouseOverContainer.addEventListener('mousemove', (e) => {
    //     window.requestAnimationFrame(function () {
    //         transformElement(e.clientX, e.clientY);
    //     });
    // });
    // mouseOverContainer.addEventListener('mouseleave', (e) => {
    //     window.requestAnimationFrame(function () {
    //         element.style.transform = "rotateX(0) rotateY(0)";
    //         element.style.transition = "all 0.3s linear 0s";
    //         imgElements[0].style.setProperty('--per', `30%`);

    //     });
    // });
</script>

<style>
    .cardlist {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-evenly;
    }

    .main {
        margin-top: 100px;
        width: 300px;
        height: 450px;
        transform-style: preserve-3d;
        perspective: 500px;

    }

    #main {
        margin-top: 100px;
        width: 300px;
        height: 450px;
        transform-style: preserve-3d;
        perspective: 500px;

    }

    .shine-card {
        --per: 30%;
        box-shadow: 2px 2px 10px 1px rgba(0, 0, 0, 0.5);

        position: relative;
        margin-left: auto;
        margin-right: auto;
        width: 300px;
        height: 450px;
        transform-style: preserve-3d;

        background-size: contain;
        border-radius: 4%;
        background-image: url("D:\\develop\\myHomePage\\ZoZou02.github.io\\assets\\img\\avatar\\haer.jpg");
        
        /* &::after {
            content: "";
            display: none;
            position: absolute;
            inset: 0;
            border-radius: 4%;

            background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/13471/sparkles.gif");
            mix-blend-mode: color-dodge;
        } */

        /* &::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 4%;

            background: linear-gradient(115deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.4) var(--per),
                    rgba(0, 0, 0, .6) calc(var(--per) + 25%),
                    rgba(255, 255, 255, .3) calc(var(--per) + 50%),
                    transparent 100%);
            mix-blend-mode: color-dodge;
        } */

        &:hover::after,
        &:hover::before {
            display: block;
        }

        /* &:hover {
            transform: scale(1.1) translateZ(0);
            transition: transform 0.3s ease;
        } */
        

    }




    div {
        transform-style: preserve-3d;

    }

    @keyframes rotate {
        0% {
            transform: rotateX(0deg) rotateZ(0deg);
        }

        50% {
            transform: rotateX(40deg) rotateZ(180deg);
        }

        100% {
            transform: rotateX(0deg) rotateZ(360deg);
        }
    }

    @keyframes reverseRotate {
        100% {
            transform: rotate(-360deg);
        }
    }
</style>

</html>